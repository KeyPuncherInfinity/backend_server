{"version":3,"sources":["app/messenger/Search.js","app/messenger/SearchUser.js","app/messenger/FriendFrame.js","app/messenger/List.js","app/messenger/Logout.js","app/messenger/RecipientList.js","app/messenger/recipient.js","app/messenger/MessageBubble.js","app/messenger/MessageWall.js","app/messenger/Prompt.js","app/messenger/MessagePrompt.js","app/messenger/MessageRoom.js","app/messenger/MessGallery.js","app/signup/Signup.js","app/login/Login.js","app/App.js","index.js"],"names":["Search","props","add","bind","className","type","id","onClick","this","addFriend","document","getElementById","value","React","Component","SearchUser","FriendFrame","state","email","data","name","clickEvent","accept","decline","status","messageCount","changeCurrentRecipient","List","list","undefined","friendList","Object","entries","index","push","Logout","logout","pressed","to","account","req","XMLHttpRequest","addEventListener","response","setState","open","send","RecipientList","Recipient","recipientName","MessageBubble","message","time","MessageWall","messages","map","Prompt","sendMessage","MessagePrompt","MessageRoom","MessGallery","sock","socketIOClient","query","UID","reactCookie","load","loggedin","current_recipient","setCallbacks","getAccountName","newMessage","refreshRecipientList","on","JSON","parse","responseText","console","log","result","temp","i","length","o","date","Date","current_time","getHours","getMinutes","recipient","emit","sender","requestFrom","requestTo","Signup","signup","redirect","window","alert","setRequestHeader","stringify","password","Login","login","App","exact","path","ReactDom","render"],"mappings":"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","file":"static/js/main.24198332.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nclass Search extends React.Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n        this.add = this.add.bind(this)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container d-flex row gx-4'>\r\n                <div className='col row'>\r\n                    <input className='input-prompt border-curve-10' type='text' id='email'></input>\r\n                </div>\r\n                <div className='col-1'>\r\n                    <button className='btn btn-primary border-curve-10' onClick={this.add}>+</button>\r\n                </div>                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    add() {\r\n        this.props.addFriend(document.getElementById('email').value)\r\n    }\r\n}\r\n\r\nexport default Search","import Search from './Search'\r\n\r\nfunction SearchUser (props) {\r\n    return (\r\n        <div className='border-bottom border-curve-10 border-success h-10-percent d-flex align-items-center'>\r\n            <Search addFriend={props.addFriend}></Search>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SearchUser","import React from 'react'\r\n\r\nclass FriendFrame extends React.Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n        this.state = {\r\n            email: this.props.data.email,\r\n            name: this.props.data.name\r\n        }\r\n        this.clickEvent = this.clickEvent.bind(this)\r\n        this.accept = this.accept.bind(this)\r\n        this.decline = this.decline.bind(this)\r\n    }\r\n    \r\n    render () {\r\n        if (this.props.data.status === 'pending') {\r\n            return (\r\n                <div className='row gap-1 m-1 border-bottom border-top border-success border-curve-10 clickable'>\r\n                    <div className='col-7 d-flex align-items-center pt-1'>\r\n                        <h5>{this.props.data.name}</h5>\r\n                    </div>\r\n                    <div className='col-2 d-grid gap-2 d-md-flex pt-1'>\r\n                        <button className='btn btn-primary btn-sm h-29-w-29' onClick={this.accept}>+</button>\r\n                        <button className='btn btn-primary btn-sm h-29-w-29' onClick={this.decline}>-</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {            \r\n            return (\r\n                <div className='row gap-1 m-1 border-bottom border-top border-success border-curve-10 clickable' onClick={this.clickEvent}>\r\n                    <div className='col-9 d-flex align-items-center pt-1'>\r\n                        <h5>{this.props.data.name}</h5>\r\n                    </div>\r\n                    <div className='col-1 d-flex align-items-center pt-1'>\r\n                        <h6>{this.props.data.messageCount}</h6>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    clickEvent() {\r\n        this.props.changeCurrentRecipient ({\r\n            email: this.state.email,\r\n            name: this.state.name\r\n        })\r\n    }\r\n\r\n    accept () {\r\n        this.props.accept(this.state.email)\r\n    }\r\n\r\n    decline () {\r\n        this.props.decline(this.state.email)\r\n    }\r\n}\r\n\r\nexport default FriendFrame","import React from 'react'\r\nimport FriendFrame from './FriendFrame'\r\n\r\nclass List extends React.Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        let list = []\r\n        if (this.props.friendList !== undefined) {\r\n            for (let [index, value] of Object.entries(this.props.friendList)) {\r\n                list.push(<FriendFrame key={index} data={value} changeCurrentRecipient={this.props.changeCurrentRecipient} accept={this.props.accept} decline={this.props.decline}></FriendFrame>)\r\n            }\r\n        }\r\n        return (\r\n            <div className='d-flex row h-80-percent-oflow'>\r\n                <div>\r\n                    {list}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default List","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nclass Logout extends React.Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n        this.logout = this.logout.bind(this)\r\n        this.state = {pressed: false}\r\n    }\r\n    \r\n    render () {\r\n        if (this.state.pressed) {\r\n            return (\r\n                <Redirect to='/login'></Redirect>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className='border-top border-success border-curve-10 h-10-percent d-flex align-items-center justify-content-center'>\r\n                    <div className='col'>\r\n                        <h6 className='d-flex justify-content-center' id='account-name'>{this.props.account.name}</h6>\r\n                    </div>\r\n                    <div className='col d-flex justify-content-center'>\r\n                        <button className='btn btn-primary' onClick={this.logout}>Logout</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    logout () {\r\n        const req = new XMLHttpRequest()\r\n        req.addEventListener('load', () => {\r\n            if (req.response === 'ok') {\r\n                this.setState({pressed: true})\r\n            }\r\n        })\r\n        req.open('GET', 'http://localhost:4000/logout')\r\n        req.send()\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Logout","import SearchUser from './SearchUser'\r\nimport List from './List'\r\nimport Logout from './Logout'\r\n\r\nfunction RecipientList (props) {\r\n    return (\r\n        <div className='recipient-list col border-end border-success border-curve-10'>\r\n            <SearchUser addFriend={props.addFriend}></SearchUser>\r\n            <List changeCurrentRecipient={props.changeCurrentRecipient} friendList={props.friendList} accept={props.accept} decline={props.decline}></List>\r\n            <Logout account={props.account}></Logout>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RecipientList","\r\n\r\nfunction Recipient (props) {\r\n\r\n    return (\r\n        <div className='border-bottom border-curve-10 border-success h-10-percent d-flex align-items-center'>\r\n            <div className='p-4'>\r\n                <h2>{props.recipientName}</h2>                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Recipient","\r\nfunction MessageBubble (props) {\r\n    if (props.data.type === 'outgoing') {\r\n        return (\r\n            <div className='row m-2 justify-content-end'>\r\n                <div className='col-5 border-top border-bottom border-success border-curve-10 text-wrap'>\r\n                    <div className='p-1 text-end text-break'>{props.data.message}</div>\r\n                    <div className='row justify-content-end message-time p-1'>{props.data.time}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className='row m-2 justify-content-start'>\r\n                <div className='col-5 border-top border-bottom border-success border-curve-10'>\r\n                    <div className='p-1 text-break'>{props.data.message}</div>\r\n                    <div className='row justify-content-end message-time p-1'>{props.data.time}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default MessageBubble","import React from 'react'\r\nimport MessageBubble from './MessageBubble'\r\n\r\n\r\nclass MessageWall extends React.Component {\r\n\r\n\r\n    render () {\r\n        let list = ''\r\n        if (this.props.messages !== undefined) {\r\n            list = this.props.messages.message.map((message, index) => \r\n                <MessageBubble key={index} data={message}></MessageBubble>\r\n            )\r\n        }\r\n        return (\r\n            <div className='h-80-percent-oflow'>\r\n                <div>\r\n                    {list}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default MessageWall","import React from 'react'\r\n\r\nclass Prompt extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props)\r\n        this.send = this.send.bind(this)\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className='container d-flex row gx-4'>\r\n                <div className='col row'>\r\n                    <input className='input-prompt border-curve-10' id='message' type='text'></input>\r\n                </div>\r\n                <div className='col-1'>\r\n                    <button className='btn btn-primary border-curve-10' onClick={this.send}>^</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    send () {\r\n        this.props.sendMessage(\r\n            document.getElementById('message').value\r\n        )\r\n    }\r\n}\r\n\r\nexport default Prompt","import Prompt from './Prompt'\r\n\r\nfunction MessagePrompt (props) {\r\n\r\n    return (\r\n        <div className='border-top border-success border-curve-10 h-10-percent d-flex align-items-center'>\r\n            <Prompt sendMessage={props.sendMessage}></Prompt>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessagePrompt","import Recipient from './recipient'\r\nimport MessageWall from './MessageWall'\r\nimport MessagePrompt from './MessagePrompt'\r\n\r\nfunction MessageRoom (props) {\r\n    return (\r\n        <div className='message-room col-8 border-start border-success border-curve-10'>\r\n            <Recipient recipientName={props.recipientName}></Recipient>\r\n            <MessageWall messages={props.messages}></MessageWall>\r\n            <MessagePrompt sendMessage={props.sendMessage}></MessagePrompt>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageRoom","import React from 'react'\r\nimport RecipientList from './RecipientList'\r\nimport MessageRoom from './MessageRoom'\r\nimport socketIOClient from 'socket.io-client'\r\nimport reactCookie from 'react-cookies'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nclass MessGallery extends React.Component {\r\n    \r\n    constructor (props) {\r\n        super(props)\r\n        this.sock = socketIOClient('http://localhost:5000', {query: {UID: reactCookie.load('UID')}})\r\n        if (reactCookie.load('UID') === undefined) {\r\n            this.state = {\r\n                loggedin: false,                \r\n            }\r\n        } else {\r\n            this.state = {\r\n                account: {},\r\n                loggedin: true,\r\n                current_recipient: {},\r\n                messages: {\r\n                    'friend_1@gmail.com': {\r\n                        email: 'friend_1@gmail.com',\r\n                        name: 'friend_1',\r\n                        message: [],\r\n                        messageCount: null,\r\n                        status: undefined\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.setCallbacks = this.setCallbacks.bind(this)\r\n        this.getAccountName = this.getAccountName.bind(this)\r\n        this.changeCurrentRecipient = this.changeCurrentRecipient.bind(this)\r\n        this.sendMessage = this.sendMessage.bind(this)\r\n        this.newMessage = this.newMessage.bind(this)\r\n        this.addFriend = this.addFriend.bind(this)\r\n        this.refreshRecipientList = this.refreshRecipientList.bind(this)\r\n        this.accept = this.accept.bind(this)\r\n        this.decline = this.decline.bind(this)\r\n        \r\n    }\r\n\r\n    render() {\r\n        if (this.state.loggedin) {\r\n            return (\r\n                <div className='message-gallery border-curve-10 row'>\r\n                    <RecipientList changeCurrentRecipient={this.changeCurrentRecipient} addFriend={this.addFriend} account={this.state.account} friendList={this.state.messages} accept={this.accept} decline={this.decline}></RecipientList>\r\n                    <MessageRoom sendMessage={this.sendMessage} recipientName={this.state.current_recipient.name} messages={this.state.messages[this.state.current_recipient.email]}></MessageRoom>     \r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <Redirect to='/signup'></Redirect>\r\n            )\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.loggedin) {\r\n\r\n            this.setCallbacks()\r\n            this.getAccountName()\r\n            this.refreshRecipientList()\r\n        }\r\n    }\r\n\r\n    setCallbacks() {\r\n        this.sock.on('refresh_recipient_list', (data) => {\r\n            this.refreshRecipientList()\r\n        })\r\n\r\n        this.sock.on('message', (data) => {\r\n            this.newMessage(data)\r\n        })\r\n\r\n    }\r\n\r\n    getAccountName() {\r\n        const req = new XMLHttpRequest()\r\n        req.addEventListener('load', () => {\r\n            this.setState({account: JSON.parse(req.responseText)})\r\n        })\r\n        req.open('GET', 'http://localhost:4000/account')\r\n        req.send()\r\n    }\r\n\r\n    refreshRecipientList () {\r\n        console.log('works')\r\n        const req = new XMLHttpRequest()\r\n        req.addEventListener('load', () => {\r\n            // friend list here\r\n            const result = JSON.parse(req.responseText)\r\n            const temp = {}\r\n            for (var i = 0; i < result.length; i++) {\r\n                temp[result[i].email] = result[i]\r\n                temp[result[i].email].message = []\r\n            }\r\n            this.setState({messages: temp})\r\n            console.log(this.state.messages)\r\n        })\r\n        req.open('GET','http://localhost:4000/friend')\r\n        req.send()\r\n    }\r\n\r\n    changeCurrentRecipient (o) {\r\n        this.setState({current_recipient: o})\r\n    }\r\n\r\n    sendMessage (message) {\r\n        const date = new Date()\r\n        const current_time = date.getHours() + ':' + date.getMinutes()\r\n        const data = {\r\n            message: message,\r\n            recipient: this.state.current_recipient.email,\r\n            time: current_time,\r\n            type: 'outgoing'\r\n        }\r\n\r\n        let temp = this.state.messages\r\n        temp[data.recipient].message.push(data)\r\n        this.setState({messages: temp})\r\n\r\n        this.sock.emit('message', data)\r\n    }\r\n\r\n    newMessage (data) {\r\n        console.log(data)\r\n        let temp = this.state.messages\r\n        temp[data.sender].message.push(data)\r\n        this.setState({messages: temp})\r\n    }\r\n\r\n    addFriend (email) {\r\n        this.sock.emit('add_friend', {\r\n            email: email\r\n        })\r\n        this.refreshRecipientList()\r\n    }\r\n\r\n    accept (email) {\r\n        this.sock.emit('accept_request', {\r\n            requestFrom: email,\r\n            requestTo: this.state.account.email\r\n        })\r\n        this.refreshRecipientList()\r\n    }\r\n\r\n    decline (email) {\r\n        this.sock.emit('decline_request', {\r\n            requestFrom: email,\r\n            requestTo: this.state.account.email\r\n        })\r\n        this.refreshRecipientList()\r\n    }\r\n}\r\n\r\nexport default MessGallery;","import React from 'react'\r\nimport {Redirect, Link} from 'react-router-dom'\r\nimport reactCookie from 'react-cookies'\r\n\r\n\r\nclass Signup extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props)\r\n        this.signup = this.signup.bind(this)\r\n        if (reactCookie.load('UID') !== undefined) {\r\n            this.state = {\r\n                redirect: '/'\r\n            }\r\n        } else {\r\n            this.state = {\r\n                redirect: 'default'\r\n            };\r\n        }\r\n    }\r\n\r\n    render () {\r\n        if (this.state.redirect === 'login') {\r\n            return (\r\n                <div id='signup-info'>            \r\n                    <Redirect to='/login'></Redirect>\r\n                </div>\r\n            )\r\n        } else if (this.state.redirect === '/') {\r\n            return (\r\n\r\n                <div id='signup-info'>\r\n                    <Redirect to='/'></Redirect>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div id='signup-info'>            \r\n                    Enter Email: <input id='email' type='text'></input> <br />\r\n                    Enter name: <input id='name' type='text'></input> <br />\r\n                    Enter Password: <input id='password' type='password'></input> <br />\r\n                    <input type='submit' onClick={this.signup}></input> <br />\r\n                    <button><Link to='/login'>Have an account? Login</Link></button>                    \r\n                </div>\r\n            )\r\n        }\r\n    };\r\n    \r\n    signup () {\r\n        const req = new XMLHttpRequest()\r\n        req.addEventListener('load', () => {\r\n            if (req.responseText === 'ok') {\r\n                this.setState({redirect: 'login'}) // Redirect after a successful status from server\r\n            } else {\r\n                window.alert('Perhaps the email is invalid or in use')\r\n            }\r\n        })\r\n        req.open('POST', 'http://localhost:4000/signup')\r\n        req.setRequestHeader('Content-Type', 'application/json')\r\n        req.send(JSON.stringify({ \r\n            email: document.getElementById('email').value,\r\n            name: document.getElementById('name').value, \r\n            password: document.getElementById('password').value\r\n        }))\r\n    \r\n    }\r\n    componentWillUnmount() {\r\n        delete this.state.redirect\r\n    }\r\n}\r\n\r\n\r\nexport default Signup","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport reactCookie from 'react-cookies'\r\n\r\nclass Login extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n        this.login = this.login.bind(this)\r\n        if (reactCookie.load('UID') !== undefined) {\r\n            this.state =  {\r\n                login: true\r\n            }\r\n        } else {\r\n\r\n            this.state = {\r\n                login: false\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        if (this.state.login) {\r\n            return (\r\n                <div id='signup-info'>            \r\n                    <Redirect to='/'></Redirect>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div id='signup-info'>            \r\n                    Enter Email: <input id='email' type='text'></input> <br />\r\n                    Enter Password: <input id='password' type='password'></input> <br />\r\n                    <input type='submit' onClick={this.login}></input> <br />                   \r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    login () {\r\n        const req = new XMLHttpRequest()\r\n        req.addEventListener('load', () => {\r\n            if (req.responseText === 'ok') {\r\n                this.setState({login: true})\r\n            } else {\r\n                window.alert('Enter proper credentials')\r\n            }\r\n        })\r\n        req.open('POST', 'http://localhost:4000/login')\r\n        req.setRequestHeader('Content-Type', 'application/json')\r\n        req.send(\r\n            JSON.stringify({\r\n                email: document.getElementById('email').value,\r\n                password: document.getElementById('password').value\r\n            })\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Login","import MessGallery from './messenger/MessGallery'\r\nimport Signup from './signup/Signup'\r\nimport Login from './login/Login'\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nfunction App () {\r\n    return (\r\n        <Router>\r\n            <div className='container h-100 d-flex justify-content-center align-items-center'>\r\n                <Switch>\r\n                    <Route exact path='/'>\r\n                        <MessGallery></MessGallery>\r\n                    </Route>\r\n                    <Route path='/signup'>\r\n                        <Signup></Signup>\r\n                    </Route>\r\n                    <Route path='/login'>\r\n                        <Login></Login>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App","import ReactDom from 'react-dom'\r\nimport styles from './index.css'\r\nimport App from './app/App'\r\n\r\n\r\nReactDom.render(\r\n    <App className='root-div'></App>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}